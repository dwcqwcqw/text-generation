(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[928],{2601:function(e,t,n){"use strict";var r,o;e.exports=(null==(r=n.g.process)?void 0:r.env)&&"object"==typeof(null==(o=n.g.process)?void 0:o.env)?n.g.process:n(8960)},8815:function(e,t,n){Promise.resolve().then(n.bind(n,4276))},4276:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return TestPage}});var r=n(7437),o=n(2265),s=n(2601);function TestPage(){let[e,t]=(0,o.useState)(""),[n,a]=(0,o.useState)(!1),[l,i]=(0,o.useState)(""),[c,u]=(0,o.useState)("https://api.runpod.ai/v2/4cx6jtjdx6hdhr/runsync"),[d,p]=(0,o.useState)("4cx6jtjdx6hdhr"),[h,m]=(0,o.useState)("Hello, how are you today?");(0,o.useEffect)(()=>{let e=localStorage.getItem("runpod_api_key");e&&i(e)},[]);let testRunPodAPI=async()=>{a(!0),t("Testing...");try{let n;console.log("Testing RunPod API with:",{endpoint:c,apiKey:l?"".concat(l.substring(0,10),"..."):"NOT SET",prompt:h});let r={input:{model_path:"/runpod-volume/text_models/L3.2-8X3B.gguf",prompt:"<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nYou are a helpful, harmless, and honest assistant.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\n".concat(h,"<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n"),max_tokens:150,temperature:.7,top_p:.9,repeat_penalty:1.05,stop:["<|eot_id|>","<|end_of_text|>","<|start_header_id|>"],stream:!1}};console.log("Request Payload:",r);let o=await fetch(c,{method:"POST",headers:{Authorization:"Bearer ".concat(l),"Content-Type":"application/json"},body:JSON.stringify(r)});console.log("Response Status:",o.status),console.log("Response Headers:",Object.fromEntries(o.headers.entries()));let s=await o.text();console.log("Raw Response:",s);try{n=JSON.parse(s)}catch(e){t("❌ Invalid JSON Response:\n".concat(s)),a(!1);return}if(o.ok){var e;if("COMPLETED"===n.status&&(null===(e=n.output)||void 0===e?void 0:e.text)){let e=n.output.text.replace(r.input.prompt,"").trim();t("✅ Success!\n\nStatus: ".concat(n.status,"\nResponse: ").concat(e,"\n\nFull Response: ").concat(JSON.stringify(n,null,2)))}else t("⚠️ Unexpected Response Format:\n".concat(JSON.stringify(n,null,2)))}else t("❌ HTTP Error ".concat(o.status,":\n").concat(JSON.stringify(n,null,2)))}catch(e){console.error("Test Error:",e),t("❌ Network Error:\n".concat(e instanceof Error?e.message:String(e)))}a(!1)},testRunPodStatus=async()=>{a(!0),t("Checking RunPod status...");try{let e;let n="https://api.runpod.ai/v2/".concat(d,"/status");console.log("Checking endpoint status:",n);let r=await fetch(n,{method:"GET",headers:{Authorization:"Bearer ".concat(l)}});console.log("Status Response:",r.status);let o=await r.text();console.log("Status Response Text:",o);try{e=JSON.parse(o)}catch(e){t("❌ Status Check - Invalid JSON:\n".concat(o)),a(!1);return}r.ok?t("✅ RunPod Endpoint Status:\n".concat(JSON.stringify(e,null,2))):t("❌ Status Check Failed (".concat(r.status,"):\n").concat(JSON.stringify(e,null,2)))}catch(e){console.error("Status Check Error:",e),t("❌ Status Check Network Error:\n".concat(e instanceof Error?e.message:String(e)))}a(!1)};return(0,r.jsx)("div",{className:"min-h-screen bg-gray-50 p-8",children:(0,r.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-8",children:"RunPod API 测试页面"}),(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"API 配置"}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"API Key:"}),(0,r.jsxs)("div",{className:"flex space-x-2",children:[(0,r.jsx)("input",{type:"text",value:l,onChange:e=>i(e.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"rpa_YT0BFBFZYAZMQHR231H4DOKQEOAJXSMVIBDYN4ZQ1tdxlb"}),(0,r.jsx)("button",{onClick:()=>{l&&(localStorage.setItem("runpod_api_key",l),t("✅ API Key已保存到本地存储!"))},className:"px-4 py-2 bg-purple-600 text-white rounded-md hover:bg-purple-700",children:"保存"})]}),(0,r.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"API Key将保存在浏览器本地存储中，请输入: rpa_YT0BFBFZYAZMQHR231H4DOKQEOAJXSMVIBDYN4ZQ1tdxlb"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Endpoint ID:"}),(0,r.jsx)("input",{type:"text",value:d,onChange:e=>{p(e.target.value),u("https://api.runpod.ai/v2/".concat(e.target.value,"/runsync"))},className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Complete Endpoint:"}),(0,r.jsx)("input",{type:"text",value:c,onChange:e=>u(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"测试提示词:"}),(0,r.jsx)("input",{type:"text",value:h,onChange:e=>m(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})]}),(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"测试按钮"}),(0,r.jsxs)("div",{className:"space-x-4 space-y-2 flex flex-wrap",children:[(0,r.jsx)("button",{onClick:testRunPodStatus,disabled:n,className:"px-6 py-3 bg-orange-600 text-white rounded-lg hover:bg-orange-700 disabled:opacity-50 disabled:cursor-not-allowed",children:n?"检查中...":"检查 RunPod 状态"}),(0,r.jsx)("button",{onClick:testRunPodAPI,disabled:n,className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:n?"测试中...":"测试 RunPod API"}),(0,r.jsx)("button",{onClick:()=>{let e={NEXT_PUBLIC_RUNPOD_API_KEY:s.env.NEXT_PUBLIC_RUNPOD_API_KEY||"NOT SET",RUNPOD_API_KEY:s.env.RUNPOD_API_KEY||"NOT SET",NEXT_PUBLIC_RUNPOD_ENDPOINT_ID:s.env.NEXT_PUBLIC_RUNPOD_ENDPOINT_ID||"NOT SET",RUNPOD_ENDPOINT_ID:s.env.RUNPOD_ENDPOINT_ID||"NOT SET",NEXT_PUBLIC_VITE_API_BASE_URL:s.env.NEXT_PUBLIC_VITE_API_BASE_URL||"NOT SET",VITE_API_BASE_URL:s.env.VITE_API_BASE_URL||"NOT SET","All env keys containing RUNPOD or VITE":Object.keys(s.env).filter(e=>e.includes("RUNPOD")||e.includes("VITE")),"Process env type":typeof s.env,"Process env keys count":Object.keys(s.env).length};console.log("Environment Variables:",e),t("Environment Variables:\n".concat(JSON.stringify(e,null,2)))},className:"px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700",children:"检查环境变量"})]})]}),(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"测试结果"}),(0,r.jsx)("pre",{className:"bg-gray-100 p-4 rounded-md text-sm overflow-auto max-h-96 whitespace-pre-wrap",children:e||"点击上面的按钮开始测试..."})]}),(0,r.jsxs)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mt-6",children:[(0,r.jsx)("h3",{className:"text-lg font-medium text-yellow-800 mb-2",children:"使用说明"}),(0,r.jsxs)("ul",{className:"text-sm text-yellow-700 space-y-1",children:[(0,r.jsx)("li",{children:'• 首先点击"检查环境变量"看看环境变量是否正确读取'}),(0,r.jsx)("li",{children:'• 然后点击"测试 RunPod API"直接测试API连接'}),(0,r.jsx)("li",{children:"• 可以修改API Key、Endpoint和提示词进行测试"}),(0,r.jsx)("li",{children:"• 查看浏览器开发者工具的Console获取更多调试信息"})]})]})]})})}},8960:function(e){!function(){var t={229:function(e){var t,n,r,o=e.exports={};function defaultSetTimout(){throw Error("setTimeout has not been defined")}function defaultClearTimeout(){throw Error("clearTimeout has not been defined")}function runTimeout(e){if(t===setTimeout)return setTimeout(e,0);if((t===defaultSetTimout||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}function runClearTimeout(e){if(n===clearTimeout)return clearTimeout(e);if((n===defaultClearTimeout||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{return n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:defaultSetTimout}catch(e){t=defaultSetTimout}try{n="function"==typeof clearTimeout?clearTimeout:defaultClearTimeout}catch(e){n=defaultClearTimeout}}();var s=[],a=!1,l=-1;function cleanUpNextTick(){a&&r&&(a=!1,r.length?s=r.concat(s):l=-1,s.length&&drainQueue())}function drainQueue(){if(!a){var e=runTimeout(cleanUpNextTick);a=!0;for(var t=s.length;t;){for(r=s,s=[];++l<t;)r&&r[l].run();l=-1,t=s.length}r=null,a=!1,runClearTimeout(e)}}function Item(e,t){this.fun=e,this.array=t}function noop(){}o.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];s.push(new Item(e,t)),1!==s.length||a||runTimeout(drainQueue)},Item.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=noop,o.addListener=noop,o.once=noop,o.off=noop,o.removeListener=noop,o.removeAllListeners=noop,o.emit=noop,o.prependListener=noop,o.prependOnceListener=noop,o.listeners=function(e){return[]},o.binding=function(e){throw Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw Error("process.chdir is not supported")},o.umask=function(){return 0}}},n={};function __nccwpck_require__(e){var r=n[e];if(void 0!==r)return r.exports;var o=n[e]={exports:{}},s=!0;try{t[e](o,o.exports,__nccwpck_require__),s=!1}finally{s&&delete n[e]}return o.exports}__nccwpck_require__.ab="//";var r=__nccwpck_require__(229);e.exports=r}()},622:function(e,t,n){"use strict";/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=n(2265),o=Symbol.for("react.element"),s=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,l=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function q(e,t,n){var r,s={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)a.call(t,r)&&!i.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===s[r]&&(s[r]=t[r]);return{$$typeof:o,type:e,key:c,ref:u,props:s,_owner:l.current}}t.Fragment=s,t.jsx=q,t.jsxs=q},7437:function(e,t,n){"use strict";e.exports=n(622)}},function(e){e.O(0,[971,472,744],function(){return e(e.s=8815)}),_N_E=e.O()}]);