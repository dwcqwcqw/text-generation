(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[928],{2601:function(e,t,n){"use strict";var r,s;e.exports=(null==(r=n.g.process)?void 0:r.env)&&"object"==typeof(null==(s=n.g.process)?void 0:s.env)?n.g.process:n(8960)},8815:function(e,t,n){Promise.resolve().then(n.bind(n,4276))},4276:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return TestPage}});var r=n(7437),s=n(2265),o=n(2601);function TestPage(){let[e,t]=(0,s.useState)(""),[n,l]=(0,s.useState)(!1),[i,c]=(0,s.useState)("rpa_YT0BFBFZYAZMQHR231H4DOKQEOAJXSMVIBDYN4ZQ1tdxlb"),[a,d]=(0,s.useState)("https://api.runpod.ai/v2/4cx6jtjdx6hdhr/runsync"),[u,h]=(0,s.useState)("4cx6jtjdx6hdhr"),[x,p]=(0,s.useState)("Hello, how are you today?");(0,s.useEffect)(()=>{let e=localStorage.getItem("runpod_api_key");e&&c(e)},[]);let testRunPodAPI=async()=>{l(!0),t("Testing...");try{let e=await fetch("https://api.runpod.ai/v2/4cx6jtjdx6hdhr/runsync",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer rpa_YT0BFBFZYAZMQHR231H4DOKQEOAJXSMVIBDYN4ZQ1tdxlb"},body:JSON.stringify({input:{prompt:x}})});if(!e.ok)throw Error("HTTP error! status: ".concat(e.status));let n=await e.json();console.log("RunPod Response:",n),"COMPLETED"===n.status?t("✅ Success!\n\nOutput: ".concat(n.output,"\n\nFull Response: ").concat(JSON.stringify(n,null,2))):"FAILED"===n.status?t("❌ Failed!\n\nError: ".concat(n.error,"\n\nFull Response: ").concat(JSON.stringify(n,null,2))):t("⚠️ Status: ".concat(n.status,"\n\nFull Response: ").concat(JSON.stringify(n,null,2)))}catch(e){console.error("Error:",e),t("❌ Network Error:\n".concat(e instanceof Error?e.message:"Unknown error occurred"))}finally{l(!1)}},testRunPodStatus=async()=>{l(!0),t("Checking RunPod status...");try{let e;let n="https://api.runpod.ai/v2/".concat(u,"/status");console.log("Checking endpoint status:",n);let r=await fetch(n,{method:"GET",headers:{Authorization:"Bearer ".concat(i)}});console.log("Status Response:",r.status);let s=await r.text();console.log("Status Response Text:",s);try{e=JSON.parse(s)}catch(e){t("❌ Status Check - Invalid JSON:\n".concat(s)),l(!1);return}r.ok?t("✅ RunPod Endpoint Status:\n".concat(JSON.stringify(e,null,2))):t("❌ Status Check Failed (".concat(r.status,"):\n").concat(JSON.stringify(e,null,2)))}catch(e){console.error("Status Check Error:",e),t("❌ Status Check Network Error:\n".concat(e instanceof Error?e.message:String(e)))}l(!1)},testRunPodHealth=async()=>{l(!0),t("Checking RunPod health...");try{let e;let n="https://api.runpod.ai/v2/".concat(u,"/health");console.log("Checking endpoint health:",n);let r=await fetch(n,{method:"GET",headers:{Authorization:"Bearer ".concat(i)}});console.log("Health Response:",r.status);let s=await r.text();console.log("Health Response Text:",s);try{e=JSON.parse(s)}catch(e){t("❌ Health Check - Invalid JSON:\n".concat(s)),l(!1);return}r.ok?t("✅ RunPod Endpoint Health:\n".concat(JSON.stringify(e,null,2))):t("❌ Health Check Failed (".concat(r.status,"):\n").concat(JSON.stringify(e,null,2)))}catch(e){console.error("Health Check Error:",e),t("❌ Health Check Network Error:\n".concat(e instanceof Error?e.message:String(e)))}l(!1)};return(0,r.jsx)("div",{className:"min-h-screen bg-gray-50 p-8",children:(0,r.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-8",children:"RunPod API 测试页面"}),(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"API 配置"}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"API Key:"}),(0,r.jsxs)("div",{className:"flex space-x-2",children:[(0,r.jsx)("input",{type:"text",value:i,onChange:e=>c(e.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"请输入RunPod API Key (rpa_...)"}),(0,r.jsx)("button",{onClick:()=>{i&&(localStorage.setItem("runpod_api_key",i),t("✅ API Key已保存到本地存储!"))},className:"px-4 py-2 bg-purple-600 text-white rounded-md hover:bg-purple-700",children:"保存"})]}),(0,r.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"API Key将保存在浏览器本地存储中。格式: rpa_开头的长字符串"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Endpoint ID:"}),(0,r.jsx)("input",{type:"text",value:u,onChange:e=>{h(e.target.value),d("https://api.runpod.ai/v2/".concat(e.target.value,"/runsync"))},className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Complete Endpoint:"}),(0,r.jsx)("input",{type:"text",value:a,onChange:e=>d(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"测试提示词:"}),(0,r.jsx)("input",{type:"text",value:x,onChange:e=>p(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})]}),(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"测试按钮"}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsx)("button",{onClick:testRunPodStatus,disabled:n,className:"px-6 py-3 bg-orange-600 text-white rounded-lg hover:bg-orange-700 disabled:opacity-50 disabled:cursor-not-allowed",children:n?"检查中...":"检查 RunPod 状态"}),(0,r.jsx)("button",{onClick:testRunPodHealth,disabled:n,className:"px-6 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed",children:n?"检查中...":"检查 RunPod 健康"}),(0,r.jsx)("button",{onClick:testRunPodAPI,disabled:n,className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:n?"测试中...":"测试 RunPod API"}),(0,r.jsx)("button",{onClick:()=>{let e={NEXT_PUBLIC_RUNPOD_API_KEY:o.env.NEXT_PUBLIC_RUNPOD_API_KEY||"NOT SET",RUNPOD_API_KEY:o.env.RUNPOD_API_KEY||"NOT SET",NEXT_PUBLIC_RUNPOD_ENDPOINT_ID:o.env.NEXT_PUBLIC_RUNPOD_ENDPOINT_ID||"NOT SET",RUNPOD_ENDPOINT_ID:o.env.RUNPOD_ENDPOINT_ID||"NOT SET",NEXT_PUBLIC_VITE_API_BASE_URL:o.env.NEXT_PUBLIC_VITE_API_BASE_URL||"NOT SET",VITE_API_BASE_URL:o.env.VITE_API_BASE_URL||"NOT SET","All env keys containing RUNPOD or VITE":Object.keys(o.env).filter(e=>e.includes("RUNPOD")||e.includes("VITE")),"Process env type":typeof o.env,"Process env keys count":Object.keys(o.env).length};console.log("Environment Variables:",e),t("Environment Variables:\n".concat(JSON.stringify(e,null,2)))},className:"px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700",children:"检查环境变量"})]})]}),(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"测试结果"}),(0,r.jsx)("pre",{className:"bg-gray-100 p-4 rounded-md text-sm overflow-auto max-h-96 whitespace-pre-wrap",children:e||"点击上面的按钮开始测试..."})]}),(0,r.jsxs)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mt-6",children:[(0,r.jsx)("h3",{className:"text-lg font-medium text-yellow-800 mb-2",children:"使用说明"}),(0,r.jsxs)("ul",{className:"text-sm text-yellow-700 space-y-1",children:[(0,r.jsx)("li",{children:"• 首先输入你的RunPod API Key (格式: rpa_开头)"}),(0,r.jsx)("li",{children:'• 点击"保存"将API Key保存到本地'}),(0,r.jsx)("li",{children:"• 按顺序测试：状态 → 健康 → API调用"}),(0,r.jsx)("li",{children:"• 查看浏览器开发者工具的Console获取更多调试信息"})]})]}),(0,r.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mt-6",children:[(0,r.jsx)("h3",{className:"text-lg font-medium text-red-800 mb-2",children:"\uD83D\uDEA8 常见错误诊断"}),(0,r.jsxs)("div",{className:"text-sm text-red-700 space-y-2",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("strong",{children:"Worker exited with exit code 1:"}),(0,r.jsxs)("ul",{className:"ml-4 mt-1 space-y-1",children:[(0,r.jsx)("li",{children:"• 模型文件路径不正确或文件不存在"}),(0,r.jsx)("li",{children:"• 模型文件损坏或格式不支持"}),(0,r.jsx)("li",{children:"• RunPod worker内存不足"}),(0,r.jsx)("li",{children:"• Python环境或依赖包问题"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("strong",{children:"401 Unauthorized:"}),(0,r.jsxs)("ul",{className:"ml-4 mt-1 space-y-1",children:[(0,r.jsx)("li",{children:"• API Key错误或过期"}),(0,r.jsx)("li",{children:"• Endpoint ID不正确"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("strong",{children:"500 Internal Server Error:"}),(0,r.jsxs)("ul",{className:"ml-4 mt-1 space-y-1",children:[(0,r.jsx)("li",{children:"• RunPod服务器内部错误"}),(0,r.jsx)("li",{children:"• 模型加载失败"}),(0,r.jsx)("li",{children:"• 请求参数格式错误"})]})]})]})]}),(0,r.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mt-6",children:[(0,r.jsx)("h3",{className:"text-lg font-medium text-blue-800 mb-2",children:"\uD83D\uDD27 解决方案建议"}),(0,r.jsxs)("div",{className:"text-sm text-blue-700 space-y-2",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("strong",{children:"⚠️ 当前问题：Worker超时 (exit code 1)"}),(0,r.jsx)("p",{className:"ml-4 text-red-600",children:"Workers启动正常但处理请求时超时，通常是模型加载问题"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("strong",{children:"1. 检查RunPod日志:"}),(0,r.jsx)("p",{className:"ml-4",children:"登录RunPod控制台 → 选择你的Endpoint → 查看实时日志"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("strong",{children:"2. 验证模型文件:"}),(0,r.jsxs)("p",{className:"ml-4",children:["确认 ",(0,r.jsx)("code",{children:"L3.2-8X3B.gguf"})," 和 ",(0,r.jsx)("code",{children:"L3.2-8X4B.gguf"})," 存在于 ",(0,r.jsx)("code",{children:"/runpod-volume/text_models/"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("strong",{children:"3. 检查内存配置:"}),(0,r.jsx)("p",{className:"ml-4",children:"18B/21B参数的模型需要大量内存，确保RunPod分配了足够的GPU内存"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("strong",{children:"4. 临时解决方案:"}),(0,r.jsx)("p",{className:"ml-4",children:"考虑使用更小的模型或增加超时时间"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("strong",{children:"5. 重新部署:"}),(0,r.jsx)("p",{className:"ml-4",children:"在RunPod控制台重新部署endpoint，确保所有依赖正确安装"})]})]})]}),(0,r.jsxs)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 mt-6",children:[(0,r.jsx)("h3",{className:"text-lg font-medium text-green-800 mb-2",children:"\uD83D\uDCDD 下一步行动"}),(0,r.jsxs)("ol",{className:"text-sm text-green-700 space-y-1 list-decimal list-inside",children:[(0,r.jsxs)("li",{children:["访问 ",(0,r.jsx)("a",{href:"https://runpod.io",target:"_blank",className:"underline",children:"RunPod控制台"})]}),(0,r.jsx)("li",{children:"找到你的Endpoint ID"}),(0,r.jsx)("li",{children:'点击"View Logs"查看实时日志'}),(0,r.jsx)("li",{children:"寻找错误信息，特别是模型加载相关的错误"}),(0,r.jsx)("li",{children:'如果看到"模型文件未找到"，需要重新上传模型'}),(0,r.jsx)("li",{children:'如果看到"内存不足"，需要升级到更大的GPU'})]})]})]})})}},8960:function(e){!function(){var t={229:function(e){var t,n,r,s=e.exports={};function defaultSetTimout(){throw Error("setTimeout has not been defined")}function defaultClearTimeout(){throw Error("clearTimeout has not been defined")}function runTimeout(e){if(t===setTimeout)return setTimeout(e,0);if((t===defaultSetTimout||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}function runClearTimeout(e){if(n===clearTimeout)return clearTimeout(e);if((n===defaultClearTimeout||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{return n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:defaultSetTimout}catch(e){t=defaultSetTimout}try{n="function"==typeof clearTimeout?clearTimeout:defaultClearTimeout}catch(e){n=defaultClearTimeout}}();var o=[],l=!1,i=-1;function cleanUpNextTick(){l&&r&&(l=!1,r.length?o=r.concat(o):i=-1,o.length&&drainQueue())}function drainQueue(){if(!l){var e=runTimeout(cleanUpNextTick);l=!0;for(var t=o.length;t;){for(r=o,o=[];++i<t;)r&&r[i].run();i=-1,t=o.length}r=null,l=!1,runClearTimeout(e)}}function Item(e,t){this.fun=e,this.array=t}function noop(){}s.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];o.push(new Item(e,t)),1!==o.length||l||runTimeout(drainQueue)},Item.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={},s.on=noop,s.addListener=noop,s.once=noop,s.off=noop,s.removeListener=noop,s.removeAllListeners=noop,s.emit=noop,s.prependListener=noop,s.prependOnceListener=noop,s.listeners=function(e){return[]},s.binding=function(e){throw Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(e){throw Error("process.chdir is not supported")},s.umask=function(){return 0}}},n={};function __nccwpck_require__(e){var r=n[e];if(void 0!==r)return r.exports;var s=n[e]={exports:{}},o=!0;try{t[e](s,s.exports,__nccwpck_require__),o=!1}finally{o&&delete n[e]}return s.exports}__nccwpck_require__.ab="//";var r=__nccwpck_require__(229);e.exports=r}()},622:function(e,t,n){"use strict";/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=n(2265),s=Symbol.for("react.element"),o=Symbol.for("react.fragment"),l=Object.prototype.hasOwnProperty,i=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function q(e,t,n){var r,o={},a=null,d=null;for(r in void 0!==n&&(a=""+n),void 0!==t.key&&(a=""+t.key),void 0!==t.ref&&(d=t.ref),t)l.call(t,r)&&!c.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:s,type:e,key:a,ref:d,props:o,_owner:i.current}}t.Fragment=o,t.jsx=q,t.jsxs=q},7437:function(e,t,n){"use strict";e.exports=n(622)}},function(e){e.O(0,[971,472,744],function(){return e(e.s=8815)}),_N_E=e.O()}]);